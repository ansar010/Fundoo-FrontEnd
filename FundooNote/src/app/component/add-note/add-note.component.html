<mat-card class="border" *ngIf="!showAddNote" (click)="changeBar()">
  <span>Take a note...</span>
</mat-card>

  <mat-card *ngIf="showAddNote" class="inputNote" [ngStyle]="{'backgroundColor' : color}" style="
    margin-top: 2%">
    <div fxLayout="row">
        <textarea  placeholder="Title" [(ngModel)]="noteDto.title" matInput
      cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="0" cdkAutosizeMaxRows="40" style="overflow: hidden;"></textarea>

      <div class="inputNote" fxFlex fxLayoutAlign="end start">
        <button *ngIf="!isPinned" matTooltip="Pin note" mat-icon-button color="basic" (click)=changePin()>
          <img src="../../../assets/pin.svg">
        </button>
        <button *ngIf="isPinned==true" matTooltip="UnPin note" mat-icon-button color="basic" (click)=changePin()>
          <img src="../../../assets/barpin.svg">
        </button>
      </div>
    </div>
    <p></p>

    <mat-card-content>
      <textarea  placeholder="Take a note..." [(ngModel)]="noteDto.description" matInput
        cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="0" cdkAutosizeMaxRows="40" style="overflow: hidden;"></textarea>
    </mat-card-content>

    <mat-card-actions>
      <div class="inputNote">
      <button mat-icon-button matTooltip="Remind me">
        <img src="../../../assets/remindme.svg" alt="reminder" />
      </button>
      <button mat-icon-button matTooltip="Collaborator">
        <img src="../../../assets/collaborator.svg" alt="collaborator">
      </button>
      <button mat-icon-button matTooltip="Change color" [matMenuTriggerFor]="colorMenu">
        <img src="../../../assets/color.svg" alt="color" />

      </button>
      <button mat-icon-button matTooltip="Add Image">
        <img src="../../../assets/addimage.svg" alt="image" />
      </button>

      <button mat-icon-button matTooltip="Archive">
        <img src="../../../assets/archive.svg" alt="archive" />
      </button>
      <button mat-icon-button matTooltip="More" [matMenuTriggerFor]="moreMenu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <div fxLayoutAlign="end start">
      <button mat-button color="warn" (click)="close()">
        close
      </button></div>
    </div>
    </mat-card-actions>
  </mat-card>

<mat-menu #colorMenu="matMenu" class="colorMenu" [overlapTrigger]="false">  
  <ng-template matMenuContent let-note="note">
    <div fxLayout="row wrap" fxLayoutAlign="end
        center" fxFlex="90">
      <div *ngFor="let color of colorCode">
        <button mat-icon-button [ngStyle]="{'color': color.colorCode}" (click)="changeColor(color.colorCode)">
          <mat-icon style="font-size: 40px" class="colorIcons">fiber_manual_record</mat-icon>
        </button>
      </div>
    </div>
  </ng-template>
</mat-menu>


<mat-menu #moreMenu="matMenu">
  <div>
    <button mat-menu-item>Add Label</button>
  </div>

</mat-menu>


